import{r as c,W as x,u,j as s,a as p,b as j}from"./index-P6OxLf1y.js";function y(){const{searchIcon:n}=c.useContext(x),i=u(),l=c.useRef(),h=()=>{const r=l.current.value.toString();r&&i(`/Dictionary/search/${r}`)};return s.jsx("div",{className:"search",children:s.jsxs("label",{htmlFor:"searchWord",className:"flex",children:[s.jsx("input",{type:"text",name:"word",id:"searchWord",placeholder:"Search for a word...",ref:l,onKeyDown:r=>{r.key==="Enter"&&h()}}),s.jsx("button",{className:"searchWordBtn",onClick:h,children:s.jsx("img",{src:n,alt:"Search",height:20})})]})})}function f({wordData:n}){const i=n[0].word,l=n[0].phonetics,h=n[0].meanings,[r,d]=c.useState(null);return s.jsxs("div",{className:"result",children:[s.jsx("p",{className:"word",children:i}),s.jsxs("div",{className:"wordDetails",children:[s.jsx("div",{className:"phonetics flex",children:l.map((t,e)=>{if(t.text&&t.audio)return s.jsxs("div",{className:"phonetic flex",children:[s.jsx("span",{className:"phoneticText",children:t.text}),s.jsx("button",{className:"voicePlayBtn",onClick:()=>{d(e)}}),r===e&&s.jsx("audio",{src:t.audio,controls:!0,autoPlay:!0,onEnded:()=>{d(null)},style:{position:"absolute",top:"-100vh"}})]},e)})}),s.jsx("div",{className:"meaningContainer",children:h.map((t,e)=>s.jsxs("div",{className:"meaning",children:[s.jsx("p",{className:"partOfSpeechTitle",children:t.partOfSpeech}),t.definitions.map((a,o)=>s.jsxs("div",{children:[s.jsx("p",{className:"definition",children:a.definition}),a.synonyms.length>0&&s.jsxs("p",{className:"synonym",children:[s.jsx("span",{children:"Â â€” Synonyms: "}),a.synonyms.join(",")]}),a.antonyms.length>0&&s.jsxs("p",{className:"antonym",children:[s.jsx("span",{children:"Â â€” Antonyms: "}),a.antonyms.join(",")]}),a.example&&s.jsxs("p",{className:"example",children:[s.jsx("span",{children:"Â â€” Example: "}),a.example]})]},o)),t.synonyms.length>0&&s.jsxs("p",{className:"synonym last",children:[s.jsx("span",{children:"Synonyms: "}),t.synonyms.join(", ")]}),t.antonyms.length>0&&s.jsxs("p",{className:"antonym last",children:[s.jsx("span",{children:"Antonyms: "}),t.antonyms.join(", ")]})]},e))})]})]})}function N({wordData:n}){return s.jsxs("div",{className:"error",children:[s.jsx("p",{className:"errorTitle",children:n.title}),s.jsx("p",{className:"errorDescription",children:n.message}),s.jsx("p",{className:"errorResolution",children:n.resolution}),s.jsxs("a",{className:"linkToGoogle",href:`https://www.google.com/search?q=${n.title}%20meaning`,target:"_blank",children:["Find on Google - ",n.title]})]})}function v(){const{setHomeLinkActive:n,setUserData:i}=c.useContext(x),{searchWordParam:l}=p(),[h,r]=c.useState(null),d=c.useCallback(e=>{i(a=>{const m=[{id:Date.now(),word:l},...a[1]];return m.length>100&&m.pop(),[a[0],m]}),e.title?r(s.jsx(N,{wordData:e})):r(s.jsx(f,{wordData:e}))},[l,i,r]),t=c.useCallback(e=>{r(s.jsx(j,{}));const a=`https://api.dictionaryapi.dev/api/v2/entries/en/${l}`;fetch(a,{signal:e.signal}).then(o=>o.json()).then(o=>d(o)).catch(o=>{console.log("Error:",o),r(s.jsx("div",{children:s.jsx("p",{className:"fetchError",children:"Something went wrong, try again... ðŸ˜¬"})}))})},[l,r]);return c.useEffect(()=>{n(!1)},[n]),c.useEffect(()=>{if(l){const e=new AbortController;return t(e),()=>{e&&e.abort()}}},[l,t]),s.jsxs(s.Fragment,{children:[s.jsx(y,{}),h]})}export{v as default};
