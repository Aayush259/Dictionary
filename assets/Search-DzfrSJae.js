import{r as l,W as d,u as x,j as s,a as u,b as p}from"./index-Bf5sTfbd.js";function j(){const{searchIcon:t}=l.useContext(d),r=x(),i=l.useRef(),c=()=>{const a=i.current.value.toString();a&&r(`/Dictionary/search/${a}`)};return s.jsx("div",{className:"search",children:s.jsxs("label",{htmlFor:"searchWord",className:"flex",children:[s.jsx("input",{type:"text",name:"word",id:"searchWord",placeholder:"Search for a word...",ref:i,onKeyDown:a=>{a.key==="Enter"&&c()}}),s.jsx("button",{className:"searchWordBtn",onClick:c,children:s.jsx("img",{src:t,alt:"Search",height:20})})]})})}function y({wordData:t}){const r=t[0].word,i=t[0].phonetics,c=t[0].meanings,[a,h]=l.useState(null);return s.jsxs("div",{className:"result",children:[s.jsx("p",{className:"word",children:r}),s.jsxs("div",{className:"wordDetails",children:[s.jsx("div",{className:"phonetics flex",children:i.map((e,n)=>{if(e.text&&e.audio)return s.jsxs("div",{className:"phonetic flex",children:[s.jsx("span",{className:"phoneticText",children:e.text}),s.jsx("button",{className:"voicePlayBtn",onClick:()=>{h(n)}}),a===n&&s.jsx("audio",{src:e.audio,controls:!0,autoPlay:!0,onEnded:()=>{h(null)},style:{position:"absolute",top:"-100vh"}})]},n)})}),s.jsx("div",{className:"meaningContainer",children:c.map((e,n)=>s.jsxs("div",{className:"meaning",children:[s.jsx("p",{className:"partOfSpeechTitle",children:e.partOfSpeech}),e.definitions.map((o,m)=>s.jsxs("div",{children:[s.jsx("p",{className:"definition",children:o.definition}),o.synonyms.length>0&&s.jsxs("p",{className:"synonym",children:[s.jsx("span",{children:"Â â€” Synonyms: "}),o.synonyms.join(",")]}),o.antonyms.length>0&&s.jsxs("p",{className:"antonym",children:[s.jsx("span",{children:"Â â€” Antonyms: "}),o.antonyms.join(",")]}),o.example&&s.jsxs("p",{className:"example",children:[s.jsx("span",{children:"Â â€” Example: "}),o.example]})]},m)),e.synonyms.length>0&&s.jsxs("p",{className:"synonym last",children:[s.jsx("span",{children:"Synonyms: "}),e.synonyms.join(", ")]}),e.antonyms.length>0&&s.jsxs("p",{className:"antonym last",children:[s.jsx("span",{children:"Antonyms: "}),e.antonyms.join(", ")]})]},n))})]})]})}function N(){const{setHomeLinkActive:t}=l.useContext(d),{searchWordParam:r}=u(),[i,c]=l.useState(null);l.useEffect(()=>{t(!1)},[t]);const a=l.useCallback(()=>{const h=new AbortController;c(s.jsx(p,{}));const e=`https://api.dictionaryapi.dev/api/v2/entries/en/${r}`;return fetch(e,{signal:h.signal}).then(n=>n.json()).then(n=>c(s.jsx(y,{wordData:n}))).catch(n=>{console.log("Error:",n),c(s.jsx("div",{children:s.jsx("p",{className:"fetchError",children:"Something went wrong, try again... ðŸ˜¬"})}))}),()=>{h&&h.abort()}},[r]);return l.useEffect(()=>{r&&a()},[r,a]),s.jsxs(s.Fragment,{children:[s.jsx(j,{}),i]})}export{N as default};
